<!doctype html>
<html>

<head>
    <meta charSet="utf-8" />
    <meta name="viewport" content="initial-scale=1.0, width=device-width" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" />
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="/assets/css/custom.css" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <title>How to structure React Native App.</title>
</head>

<body>
    <div class="sidebar">
    <div class="col-12 side-bar-center">
        <div class="d-flex flex-column">
            <h5 class="mx-auto">
                <a class="blog-name" href="/">Tran Quoc Khanh</a>
            </h5>

            <div class="blog-description mx-auto">A developer</div>
        </div>
        <hr />
        <div>
            <div class="d-flex justify-content-center">
                <a href="/" class="menu-item my-1">Home</a>
            </div>
            <div class="d-flex justify-content-center">
                <a href="/technical" class="menu-item my-1">Technical</a>
            </div>
            <div class="d-flex justify-content-center">
                <a href="/pet-project" class="menu-item my-1">Pet project</a>
            </div>
            <div class="d-flex justify-content-center">
                <a href="/other" class="menu-item my-1">Other</a>
            </div>
            <div class="d-flex justify-content-center">
                <a href="/about" class="menu-item my-1">About me</a>
            </div>
        </div>

        <hr />
        <div class="d-flex flex-row justify-content-center">
            <a class="mx-2" href="https://fb.com/quockhanhdev">
                <i class="fa fa-facebook-official"></i>
            </a>
            <a class="mx-2" href="https://github.com/khanhtrancse">
                <i class="fa fa-github"></i>
            </a>
        </div>
    </div>
</div>
    <nav class="navbar custom-nav fixed-top px-0 py-0">
        <div class="navbar-main col-12 d-flex row px-0 mx-0 py-0 my-0">
              <div class="col-9 py-auto my-auto">
                <h6 class="py-auto my-auto">
                    <a class="side-item blog-name" href="/">Tran Quoc Khanh</a>
                </h6>
            </div>

            <div class="col-3 d-flex flex-row-reverse py-auto my-auto">
                <a class="menu-button px-3"  data-toggle="collapse" data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fa fa-bars" aria-hidden="true"></i>
                </a>
            </div>
        </div>
        <div class="collapse col-12 px-0 py-auto my-0" id="navbarToggleExternalContent">
            <hr class="mt-0" />
            <div class="d-flex justify-content-center">
                <div>
                    <div class="d-flex justify-content-center">
                        <a href="/" class="side-item menu-item my-1">Home</a>
                    </div>
                    <div class="d-flex justify-content-center">
                        <a href="/technical" class="side-item menu-item my-1">Technical</a>
                    </div>
                    <div class="d-flex justify-content-center">
                        <a href="/pet-project" class="side-item menu-item my-1">Pet project</a>
                    </div>
                    <div class="d-flex justify-content-center">
                        <a href="/other" class="side-item menu-item my-1">Other</a>
                    </div>
                    <div class="d-flex justify-content-center">
                        <a href="/about" class="side-item menu-item my-1">About me</a>
                    </div>
                </div>
            </div>
            <hr />
            <div class="d-flex flex-row justify-content-center">
                    <a class="mx-2" href="https://fb.com/quockhanhdev">
                        <i class="fa fa-facebook-official"></i>
                    </a>
                    <a class="mx-2" href="https://github.com/khanhtrancse">
                        <i class="fa fa-github"></i>
                    </a>
            </div>
        </div>

    </nav>

    <div class="main">
        <div class="col-12 d-flex flex-column align-items-center px-0">
            <div class="post-cover-image" style="background: url(/assets/images/react-native.png)"></div>

            <div class="post-detail px-3">
                <div class="d-flex align-items-center justify-content-center">
                    <h1 class="post-detail-title">How to structure React Native App.</h1>
                </div>
                <div class="col-12 row mx-0 align-items-center justify-content-center mb-3">
                    <div class="post-detail-date mx-1">2019 May 30</div>
                    <div> &mdash; </div>
                    
                        <div class="post-detail-category mx-1">technical</div>
                    
                </div>

                <h2 id="table-of-contents">Table of contents</h2>
<ol>
  <li>Introduction</li>
  <li>Understand the default structure</li>
  <li>The first way - for small app</li>
  <li>The second way - for scalable app</li>
  <li>Demo repository</li>
</ol>

<p>One of the greate things about React Native is the flexibility. You can structure your app as you want. This is greate but can  also be problem when you choose the architecture for app, especially to new developers.</p>

<p>Before I disscus about the structure, I will list the tool I use in my project:</p>
<ol>
  <li><a href="">React Navigation</a> - Application Navigation</li>
  <li><a href="">Redux</a> - State Manager</li>
  <li><a href="">Redux-thunk</a> - Enable async action for Redux</li>
</ol>

<h2 id="understand-the-default-structure">Understand the default structure</h2>

<p>After you create a new project, the default structure will be (for React Native 0.60):</p>

<div class="row mx-0 px-0 justify-content-center">
    <div>
    <img src="/assets/images/rn-structure/default-structure.png" alt="default structure" width="500" />
    </div>
    </div>

<ol>
  <li>
    <p><strong>android/</strong>: The android native code will live here. This folder contains launch icon, native modules, configurations… for android. You can open file <em>android/build.grade</em> with Android Studio and build your app normally.</p>
  </li>
  <li>
    <p><strong>ios/</strong>: The ios native code will live here. This folder contains launch icon, native modules, configurations… for ios. You can open file <em>ios/{project-name}.xcodeproj</em> or <em>ios/{project-name}.xcworkspace</em> with Xcode and build your app for ios.</p>
  </li>
  <li>
    <p><strong>index.js</strong>: The entry point to app.</p>
  </li>
  <li>
    <p><strong>package.json</strong>: This file keeps some meta data of and the libraries (and it version) was used in your app.</p>
  </li>
  <li>
    <p><strong>Everything else</strong>: You can ignore its at this time.</p>
  </li>
</ol>

<h2 id="the-first-way---for-small-app">The first way - for small app</h2>

<p>When I start work with React Native, I orginized some projects with structure based on type (type-based).</p>

<div class="row mx-0 px-0 justify-content-center">
    <div>
    <img src="/assets/images/rn-structure/type-based-structure.png" alt="type based structure" width="500" />
    </div>
    </div>

<h4 id="app">app</h4>

<p>The <em>app/</em> folder is the sibling to the <em>android/</em> or <em>ios/</em> folder. This contains whole source code and assets of your app.</p>

<h4 id="appactions">app/actions</h4>

<p>This folder contains Redux Actions. I will define all actions in separate files by feature. Let me give you an example: I define login, logout and register actions in <em>auth.js</em> file, and getPlaylist, getSongs action in <em>song.js</em> file.</p>

<noscript><pre>400: Invalid request
</pre></noscript>
<script src="https://gist.github.com/b5dfed84349a1f932041a945c5d971b4.js"> </script>

<p>If you don’t use Redux, you can skip this folder.</p>

<h4 id="appcomponents">app/components</h4>

<p>This folder contains components for app. The goals of this is maximun code reuse. We will push our components to this folder. Here is an example of my components folder:</p>

<noscript><pre>400: Invalid request
</pre></noscript>
<script src="https://gist.github.com/e675c6bc8aed7fe56abd357094562b50.js"> </script>

<p><strong>Question:</strong> Why some components are in a separate file, the others are in a folder?</p>

<p>Some components are very complex, so I separate it’s style and it’s logic to two files. Something else is simple, so no need to separate it.</p>

<p><strong>Question:</strong> Why do I name the style of video component is video.style.js not style.js?</p>

<p>The answer is related to development process, I usually use <em>Cmd + P</em> (or Ctrl + P in Windows) in Visual Studio for quick open file. When I want to open file style.js of video component, if I type “<em>style.js</em>” to search for video style file, the result is too many files and so hard to pick wanted file but if I type “<em>video</em>”,  two files are in video component was list in the top of result. So I can open it easer.</p>

<h4 id="appconfig">app/config</h4>

<p>This contains the files that define color, keep the config such as api host, admod key, …</p>

<h4 id="appmodules-or-applibs">app/modules (or app/libs)</h4>

<p>This folder contains modules such as restful api module, storage module, …</p>

<h4 id="appreducers">app/reducers</h4>

<p>This folder contains reducers that change state based on action</p>

<h4 id="appscreens">app/screens</h4>

<p>This folder contains screens (a component for whole screen).</p>

<h4 id="appappjs">app/App.js</h4>

<p>This file integrate navigation, store of redux.</p>

            </div>
        </div>
    </div>

</body>

</html>